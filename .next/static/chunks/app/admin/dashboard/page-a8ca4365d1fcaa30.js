(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{4489:function(e,t,s){Promise.resolve().then(s.bind(s,2101))},2101:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(3827),r=s(4090),l=s(7907);let n=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))});var i=s(1067),c=s(5993);let o=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}),d=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}),x=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});var m=s(3835);let h=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}),u=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),p=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),g=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),j=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}),w=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))});function f(){var e;let t=(0,l.useRouter)(),[s,j]=(0,r.useState)("overview"),[w,f]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[k,E]=(0,r.useState)(null),[C,L]=(0,r.useState)(!0),[A,R]=(0,r.useState)(null),[Z,M]=(0,r.useState)(""),[S,T]=(0,r.useState)("all"),[O,B]=(0,r.useState)(null);(0,r.useEffect)(()=>{W()},[]);let W=async()=>{try{L(!0),B(null);let e=await fetch("/api/admin/stats",{headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){if(401===e.status){t.push("/login?redirect=/admin/dashboard");return}throw Error("Failed to fetch stats")}let s=await e.json();E(s);let a=await fetch("/api/admin/technicians?status=pending",{headers:{"Content-Type":"application/json"},credentials:"include"});if(a.ok){let e=await a.json();f(e.technicians||[])}let r=await fetch("/api/admin/quotes?limit=20",{headers:{"Content-Type":"application/json"},credentials:"include"});if(r.ok){let e=await r.json();N(e.quotes||[])}}catch(e){B(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching dashboard data:",e)}finally{L(!1)}},V=async e=>{try{R(e);let t=await fetch("/api/admin/technicians/".concat(e,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to approve technician")}f(t=>t.map(t=>t.id===e?{...t,status:"approved"}:t)),alert("Technician approved successfully!")}catch(e){alert(e instanceof Error?e.message:"Failed to approve technician"),console.error("Error approving technician:",e)}finally{R(null)}},D=async e=>{try{R(e);let t=await fetch("/api/admin/technicians/".concat(e,"/reject"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to reject technician")}f(t=>t.map(t=>t.id===e?{...t,status:"rejected"}:t)),alert("Technician application rejected.")}catch(e){alert(e instanceof Error?e.message:"Failed to reject technician"),console.error("Error rejecting technician:",e)}finally{R(null)}},P=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return C?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})}):O?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,a.jsx)("p",{children:O})}),(0,a.jsx)("button",{onClick:W,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Administrator"}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Settings"}),(0,a.jsx)("button",{onClick:()=>t.push("/logout"),className:"px-4 py-2 text-sm text-red-600 hover:text-red-700",children:"Logout"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)(v,{title:"Total Quotes",value:k.totalQuotes,icon:(0,a.jsx)(n,{className:"h-8 w-8"}),trend:12,color:"blue"}),(0,a.jsx)(v,{title:"Pending Quotes",value:k.pendingQuotes,icon:(0,a.jsx)(i.Z,{className:"h-8 w-8"}),color:"yellow"}),(0,a.jsx)(v,{title:"Total Revenue",value:(e=k.totalRevenue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)),icon:(0,a.jsx)(c.Z,{className:"h-8 w-8"}),trend:8,color:"green"}),(0,a.jsx)(v,{title:"Active Technicians",value:k.activeTechnicians,icon:(0,a.jsx)(o,{className:"h-8 w-8"}),subtitle:"".concat(k.pendingTechnicians," pending"),color:"purple"})]}),k&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Response Time"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:k.averageResponseTime})]}),(0,a.jsx)(i.Z,{className:"h-8 w-8 text-gray-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[k.customerSatisfaction,"%"]}),(0,a.jsx)(d,{className:"h-5 w-5 text-yellow-400 ml-2"})]})]}),(0,a.jsx)(x,{className:"h-8 w-8 text-gray-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Completed Installations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:k.completedInstallations})]}),(0,a.jsx)(m.Z,{className:"h-8 w-8 text-green-500"})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>j("overview"),className:"py-4 px-6 border-b-2 font-medium text-sm ".concat("overview"===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,a.jsxs)("button",{onClick:()=>j("technicians"),className:"py-4 px-6 border-b-2 font-medium text-sm ".concat("technicians"===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Pending Technicians (",w.filter(e=>"pending"===e.status).length,")"]}),(0,a.jsxs)("button",{onClick:()=>j("quotes"),className:"py-4 px-6 border-b-2 font-medium text-sm ".concat("quotes"===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Recent Quotes (",y.length,")"]})]})})}),"overview"===s&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(b,{icon:(0,a.jsx)(o,{className:"h-5 w-5"}),title:"New technician application",description:"John Smith applied to join",time:"2 hours ago",type:"info"}),(0,a.jsx)(b,{icon:(0,a.jsx)(n,{className:"h-5 w-5"}),title:"New quote request",description:"Installation in Austin, TX",time:"3 hours ago",type:"success"}),(0,a.jsx)(b,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5"}),title:"Installation completed",description:"Job #1234 completed successfully",time:"5 hours ago",type:"success"}),(0,a.jsx)(b,{icon:(0,a.jsx)(h,{className:"h-5 w-5"}),title:"Customer complaint",description:"Issue reported for job #1230",time:"1 day ago",type:"warning"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,a.jsx)(o,{className:"h-6 w-6 text-blue-600 mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:"Review Technicians"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[w.filter(e=>"pending"===e.status).length," pending"]})]}),(0,a.jsxs)("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,a.jsx)(n,{className:"h-6 w-6 text-green-600 mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:"Manage Quotes"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[y.filter(e=>"new"===e.status).length," new"]})]}),(0,a.jsxs)("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,a.jsx)(x,{className:"h-6 w-6 text-purple-600 mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:"View Reports"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Analytics"})]}),(0,a.jsxs)("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6 text-yellow-600 mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:"Payments"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage payouts"})]})]})})]})]}),"technicians"===s&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(u,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search technicians...",value:Z,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"approved",children:"Approved"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"})]})]})}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Technician"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Areas"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:w.filter(e=>("all"===S||e.status===S)&&(""===Z||e.firstName.toLowerCase().includes(Z.toLowerCase())||e.lastName.toLowerCase().includes(Z.toLowerCase())||e.email.toLowerCase().includes(Z.toLowerCase()))).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),e.company&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.company})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.yearsExperience," years"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.certifications.length," certifications"]})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.serviceAreas.slice(0,2).join(", "),e.serviceAreas.length>2&&(0,a.jsxs)("span",{className:"text-gray-500",children:[" ","+",e.serviceAreas.length-2," more"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["pending"===e.status&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>V(e.id),disabled:A===e.id,className:"text-green-600 hover:text-green-900 disabled:opacity-50",children:A===e.id?(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"}):(0,a.jsx)(m.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>D(e.id),disabled:A===e.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:(0,a.jsx)(p,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,a.jsx)(g,{className:"h-5 w-5"})})]}),"approved"===e.status&&(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:"View Details"})]})]},e.id))})]}),0===w.filter(e=>("all"===S||e.status===S)&&(""===Z||e.firstName.toLowerCase().includes(Z.toLowerCase())||e.lastName.toLowerCase().includes(Z.toLowerCase())||e.email.toLowerCase().includes(Z.toLowerCase()))).length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No technicians found"})})]})]}),"quotes"===s&&(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property Details"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:y.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customerName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.customerEmail})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.city,", ",e.state]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.zipCode})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.propertyType," - ",e.stories," story"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.roofType," roof"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("new"===e.status?"bg-blue-100 text-blue-800":"contacted"===e.status?"bg-yellow-100 text-yellow-800":"scheduled"===e.status?"bg-purple-100 text-purple-800":"completed"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.createdAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900 text-sm",children:"View Details"})})]},e.id))})]})})})]})]})}function v(e){let{title:t,value:s,icon:r,trend:l,subtitle:n,color:i="blue"}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),n&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:n}),l&&(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[l>0?(0,a.jsx)(j,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(w,{className:"h-4 w-4 text-red-500"}),(0,a.jsxs)("span",{className:"text-sm ml-1 ".concat(l>0?"text-green-500":"text-red-500"),children:[Math.abs(l),"%"]})]})]}),(0,a.jsx)("div",{className:{blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",purple:"text-purple-600"}[i],children:r})]})})}function b(e){let{icon:t,title:s,description:r,time:l,type:n="info"}=e;return(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full ".concat({info:"text-blue-600 bg-blue-100",success:"text-green-600 bg-green-100",warning:"text-yellow-600 bg-yellow-100",error:"text-red-600 bg-red-100"}[n]),children:t}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:l})]})]})}},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3835:function(e,t,s){"use strict";var a=s(4090);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=r},1067:function(e,t,s){"use strict";var a=s(4090);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=r},5993:function(e,t,s){"use strict";var a=s(4090);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=r}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4489)}),_N_E=e.O()}]);